status: overhaul_phase_execution_in_review
goals:
  - current: Complete hard-square UI overhaul and core/backend security refactor
  - pending: Close gates A-F with evidence-backed sign-off after active user testing
constraints:
  - local-first
  - no-cloud-runtime-in-this-phase
  - aesthetic: Hard-square industrial minimal with IBM Plex Sans + JetBrains Mono
  - preserve auth/workspace/project routing semantics
decisions:
  - ui_system: Global square-edge system with tokenized buttons/inputs/surfaces
  - backend_boundaries: Introduced DataStore/AuthService/CryptoVault/CompileService adapter seams
  - security_mode: Hardened local mode with encrypted AI key vault and token-validated magic links
  - parity_mode: Prism core parity implemented; near-term items represented as local stubs/contracts
  - agent_direction: User-controlled assistant/agent boundary with scoped autonomy only
risks:
  - preview_port_collision: Port 4173 can be occupied by stale processes, causing startup confusion
  - lock_flow_ux: unlock screen introduced and still needs broader user testing in browser
  - production_auth: local auth/session implementation remains demo-grade for non-local deployments
  - benchmark_url_stability: Prism parity references vary across openai.com paths; parity source must be re-validated periodically
next_steps:
  - Keep resolving sign-in/session edge cases found during active manual testing
  - Run and document gated evidence updates (A-F) in scorecard and critique logs
  - Capture new showcase artifacts for Gate B/C visual sign-off
  - Iterate remaining token cleanup and flatten residual legacy utility aliases
